# แบบฝึกหัดเพิ่มเติม: NumPy

เครดิต: Akara Supratak (email: [akara.sup@mahidol.ac.th](mailto:akara.sup@mahidol.ac.th), github: [@akaraspt](https://github.com/akaraspt))

## NumPy คืออะไร (What is NumPy?)

### **เหตุผลใดที่เราควรใช้ NumPy arrays แทน Python lists สำหรับงานคำนวณตัวเลข**

เลือกคำตอบที่ **ถูกต้องที่สุด**

* [ ] A. เพราะ NumPy ห้ามใช้ลูปโดยสิ้นเชิง
* [ ] B. เพราะ NumPy arrays ถูกจัดเก็บอย่างต่อเนื่องในหน่วยความจำ และมีชนิดข้อมูล (`dtype`) คงที่ ทำให้สามารถคำนวณแบบเวกเตอร์ได้อย่างรวดเร็วและประหยัดหน่วยความจำ
* [ ] C. เพราะ Python lists ไม่สามารถเก็บจำนวนเต็มได้
* [ ] D. เพราะ NumPy ทำให้ทุกการดำเนินการขนานโดยอัตโนมัติ
* [ ] E. เพราะ NumPy ทำให้โค้ดสั้นลงเสมอไม่ว่าจะตรรกะอย่างไร

## การสร้างและตรวจสอบรูปร่างของอาเรย์ (Array Creation & Shapes)

### **เติมคำในช่องว่าง: สร้างอาเรย์ที่มีรูปร่างและชนิดข้อมูลถูกต้อง**

สร้างอาเรย์จำนวนเต็มที่มีค่าเป็นศูนย์ 5 ตัว:

```python
import numpy as np
a = np.zeros(_____, dtype=_____)   # คาดหวังผลลัพธ์: shape (5,), integer
```

สร้างอาเรย์ 2×3 ของศูนย์ที่มีชนิดข้อมูล `float`:

```python
b = np.______(_____, dtype=_____)    # คาดหวังผลลัพธ์: shape (2,3), float
```

สร้างจำนวนเต็มที่มีระยะห่างเท่ากัน `[0, 2, 4, 6, 8]`:

```python
c = np.arange(_____)               # เติมอาร์กิวเมนต์ให้ถูกต้อง
```

### **คำถามแบบหลายตัวเลือก: รูปร่างของอาเรย์**

กำหนดให้:

```python
x = np.arange(12).reshape(3,4)
```

ค่าของ `x.shape` คืออะไร?

* [ ] A. `(12,)`
* [ ] B. `(4,3)`
* [ ] C. `(3,4)`
* [ ] D. `(2,6)`
* [ ] E. `None`

## การเข้าถึง ตัด และสร้างมาสก์ (Indexing, Slicing, Boolean Masks)

### **เติมคำในช่องว่างให้ถูกต้อง**

กำหนดให้:

```python
x = np.array([[10, 20, 30],
              [40, 50, 60],
              [70, 80, 90]])
```

เลือก **คอลัมน์ที่สอง** (เป็นมุมมอง 1D):

```python
col2 = x[:, _____]   # คาดหวังผลลัพธ์: [20 50 80]
```

เลือก **สองแถวแรกและสองคอลัมน์สุดท้าย**:

```python
block = x[_____, _____]   # คาดหวังผลลัพธ์: [[20,30],
                          #                  [50,60]]
```

เลือกสมาชิกที่ **มีค่า ≥ 50** (ใช้ boolean filter ให้ผลลัพธ์ 1D):

```python
ge50 = x[_____]   # คาดหวังผลลัพธ์: [50 60 70 80 90]
```

### **บรรทัดใดสร้าง boolean mask ได้ถูกต้อง**

เลือกได้มากกว่า 1 ข้อ (สมมติว่า `x` เป็นอาเรย์ NumPy)

* [ ] A. `mask = x > 0`
* [ ] B. `mask = (x % 2 == 0) & (x < 50)`
* [ ] C. `mask = x and (x < 10)`
* [ ] D. `mask = (x == 3) | (x == 7)`
* [ ] E. `mask = ~(x > 100)`

## การดำเนินการแบบองค์ประกอบต่อองค์ประกอบ (Element-wise) และการรวมค่า (Aggregation)

### **เติมคำในช่องว่าง: การดำเนินการแบบองค์ประกอบต่อองค์ประกอบ**

```python
a = np.array([1, 2, 3])
b = np.array([4, 5, 6])

s = np.__________(a, b)     # บวก → [5 7 9]
d = np.__________(a, b)     # ลบ → [-3 -3 -3]
m = np.__________(a, b)     # คูณ → [ 4 10 18]
q = np.__________(b, a)     # หาร → [4.  2.5 2. ]
```

**จริงหรือเท็จ (True/False)**
ทำเครื่องหมาย **True** หากฟังก์ชันนั้นสามารถใช้พารามิเตอร์ `axis` ได้

* [ ] `np.add(..., axis=1)`
* [ ] `np.sum(..., axis=1)`
* [ ] `np.mean(..., axis=0)`
* [ ] `np.multiply(..., axis=0)`

> หมายเหตุ: พารามิเตอร์ `axis` ใช้กับ **ฟังก์ชันรวมค่า** (aggregation) เช่น `sum`, `mean`, `min`, `max`, `std`
> ไม่ใช้กับการดำเนินการแบบองค์ประกอบ (`add`, `subtract`, `multiply`, `divide`)

## การรวมค่าด้วย `axis` (Aggregation with `axis`)

กำหนดให้:

```python
y = np.array([[1,  2,  3],
              [10, 20, 30]])
```

### **เติมคำในช่องว่าง**

ผลรวมตามแถว (shape `(2,)`):

```python
row_sums = np.sum(y, axis=_____)   # คาดหวังผลลัพธ์: [ 6 60 ]
```

ค่าเฉลี่ยตามคอลัมน์ (shape `(3,)`):

```python
col_means = np.mean(y, axis=_____) # คาดหวังผลลัพธ์: [5.5 11.  16.5]
```

ค่าต่ำสุดและค่าสูงสุดในภาพรวม:

```python
gmin   = np.________(y)     # คาดหวังผลลัพธ์: 1
gmax   = np.________(y)     # คาดหวังผลลัพธ์: 30
```

ค่าสูงสุดตามแถว (shape `(2,)`):

```python
row_max = np.________(y, axis=_____)  # คาดหวังผลลัพธ์: [ 3 30 ]
```

ส่วนเบี่ยงเบนมาตรฐานตามคอลัมน์ (shape `(3,)`):

```python
col_std = np.________(y, axis=_____)  # คาดหวังผลลัพธ์: [ 4.5  9.  13.5]
```

## การหาค่าที่ไม่ซ้ำและการนับ (Unique & Counting)

### **ใช้ `np.unique`**

กำหนดให้:

```python
z = np.array([3, 1, 2, 3, 2, 1, 3])
```

หาค่าที่ไม่ซ้ำและเรียงลำดับแล้ว:

```python
u = np.__________  # คาดหวังผลลัพธ์: [1 2 3]
```

หาค่าที่ไม่ซ้ำ **พร้อมจำนวนครั้งที่ปรากฏ**:

```python
vals, cnts = __________
# คาดหวังผลลัพธ์: vals=[1 2 3], cnts=[2 2 3]
```

## แบบฝึกหัดเขียนโค้ดสั้น (Short Coding Tasks)

### คำนวณสถิติพื้นฐาน (Compute basic statistics)

อ่านอาเรย์ 2 มิติ และพิมพ์:

* ผลรวมของทุกสมาชิก
* ค่าเฉลี่ยของทุกสมาชิก
* ค่าสูงสุดแต่ละแถว
* ส่วนเบี่ยงเบนมาตรฐานแต่ละคอลัมน์

**อินพุต:**

```text
2 3
1 2 3
10 20 30
```

**ผลลัพธ์ที่คาดหวัง:**

```text
sum=66
mean=11.0
row_max=[ 3 30]
col_std=[4.5 9. 13.5]
```

---

### การนับฉลากด้วย `np.unique(..., return_counts=True)`

**รูปแบบอินพุต:**

```text
n
l1 l2 ... ln
```

**เป้าหมาย**
พิมพ์ค่าที่ไม่ซ้ำ, จำนวนครั้งที่ปรากฏ, และค่าที่พบมากที่สุด

**อินพุต:**

```text
10
1 2 1 3 2 2 3 3 3 1
```

**ผลลัพธ์ที่คาดหวัง:**

```text
unique=[1 2 3]
counts=[3 3 4]
most_frequent=3
```

---

### การเลือกแถวและคอลัมน์เฉพาะ (Selecting specific rows and columns)

กำหนดให้:

```python
import numpy as np
A = np.array([[10, 20, 30],
              [40, 50, 60],
              [70, 80, 90]])
```

**1. เลือกแถวแรก**

```python
row1 = A[_____]       # คาดหวังผลลัพธ์: [10 20 30]
```

**2. เลือกคอลัมน์สุดท้าย**

```python
last_col = A[:, _____]   # คาดหวังผลลัพธ์: [30 60 90]
```

**3. เลือกสมาชิกตรงกลาง (row=1, col=1)**

```python
mid = A[_____, _____]    # คาดหวังผลลัพธ์: 50
```

**4. เลือกบล็อก 2×2 ด้านบนซ้าย**

```python
block = A[_____, _____]  # คาดหวังผลลัพธ์: [[10 20],
                         #                  [40 50]]
```

---

### การเลือกหลายแถวหรือหลายคอลัมน์ (Selecting multiple rows or columns)

กำหนดให้:

```python
B = np.array([[ 1,  2,  3,  4],
              [ 5,  6,  7,  8],
              [ 9, 10, 11, 12]])
```

**1. เลือกแถวที่ 0 และ 2**

```python
rows_0_2 = B[[_____, _____], :]
# คาดหวังผลลัพธ์:
# [[ 1  2  3  4]
#  [ 9 10 11 12]]
```

**2. เลือกคอลัมน์ที่ 1 และ 3**

```python
cols_1_3 = B[:, [_____, _____]]
# คาดหวังผลลัพธ์:
# [[ 2  4]
#  [ 6  8]
#  [10 12]]
```

---

### การเลือกแถวตามเงื่อนไข (Selecting rows with conditions)

กำหนดให้:

```python
C = np.array([[10, 15, 20],
              [25, 30, 35],
              [40, 45, 50]])
```

**1. เลือกแถวที่ค่าคอลัมน์แรก ≥ 20**

```python
cond = C[:, 0] >= _____
filtered = C[cond]
# คาดหวังผลลัพธ์:
# [[25 30 35]
#  [40 45 50]]
```

**2. เลือกแถวที่ค่าคอลัมน์สุดท้าย < 40**

```python
cond = C[:, -1] < _____
filtered = C[cond]
# คาดหวังผลลัพธ์:
# [[10 15 20]
#  [25 30 35]]
```

---

### รวมการเลือกและการรวมค่า (Combine Selection and Summation)

กำหนดให้:

```python
G = np.array([[10, 20, 30],
              [40, 50, 60],
              [70, 80, 90]])
```

เลือกเฉพาะ **แถวที่ค่าคอลัมน์แรก > 20**,
จากนั้น **พิมพ์แถวพร้อมผลรวมของแต่ละแถว**

ผลลัพธ์ที่คาดหวัง:

```text
Row: [40 50 60] → sum = 150
Row: [70 80 90] → sum = 240
```
